bootcmd_bootimg=
    /* Pass serial number in cmdline */
    setenv bootargs "androidboot.serialno=${serial#} ${bootargs}";
    /* Boot Android */
    bootm ${loadaddr} ${loadaddr} ${fdt_addr};

bootcmd_android=
    /* Read boot image to RAM (into $loadaddr) */
    part start mmc 0 boot boot_start;
    part size mmc 0 boot boot_size;
    mmc read ${loadaddr} ${boot_start} ${boot_size};

    run bootcmd_bootimg;

bootcmd_android_normal=
    /* Boot to system instead of recovery */
    setenv bootargs "androidboot.force_normal_boot=1";
    run bootcmd_android;

bootcmd_android_recovery=
    /* Boot to recovery */
    run bootcmd_android;

fastbootcmd=
    cls;
    echo "FASTBOOT MODE";
    fastboot usb 0;

fastboot_bootcmd=
    setenv bootargs "androidboot.force_normal_boot=1";
    run bootcmd_bootimg;

bootcmd=
    if bcb load 0 misc; then
        /* Valid BCB found */
        if bcb test command = bootonce-bootloader; then
            bcb clear command; bcb store;
            run fastbootcmd;
        elif bcb test command = boot-recovery; then
            bcb clear command; bcb store;
            run bootcmd_android_recovery;
        else
            run bootcmd_android_normal;
        fi;
    else
        /* Non-existent/corrupted BCB, assume normal boot */
        run bootcmd_android_normal;
    fi;
